<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Valentine's Day ðŸ’–</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: radial-gradient(circle at center, #120008, #2a0014, #000);
            overflow: hidden;
            font-family: Georgia, serif;
        }

        /* Canvas base */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
        }

        /* CoraÃ§Ã£o atrÃ¡s */
        #heartCanvas {
            z-index: 0;
        }

        /* PÃ©talas */
        #petalCanvas {
            z-index: 1;
            pointer-events: none;
        }

        /* Envelope */
        .envelope {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 340px;
            height: 200px;
            background: linear-gradient(145deg, #fff1f5, #ffe4ec);
            border-radius: 20px;
            box-shadow:
                0 0 60px rgba(255, 0, 90, 0.4),
                inset 0 0 25px rgba(255, 255, 255, 0.7);
            cursor: pointer;
            z-index: 3;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: 0.8s ease;
            overflow: hidden;
        }

        .envelope.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .envelope.open {
            height: 440px;
            cursor: default;
        }

        .envelope h2 {
            color: #c2185b;
            z-index: 2;
            transition: 0.4s ease;
            font-size: 1.6rem;
        }

        .envelope.open h2 {
            opacity: 0;
            transform: translateY(-10px);
        }

        .letter {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 40px;
            background: linear-gradient(180deg, #fff8fb, #ffeef4);
            border-radius: 20px;
            opacity: 0;
            transition: 0.8s;
            display: flex;
            align-items: center;
        }

        .envelope.open .letter {
            opacity: 1;
        }

        .letter p {
            color: #5a2a3a;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .highlight {
            color: #e91e63;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <canvas id="heartCanvas"></canvas>
    <canvas id="petalCanvas"></canvas>

    <div class="envelope" id="envelope">
        <h2>Meu bem ðŸ’Œ</h2>
        <div class="letter">
            <p>
                Feliz Valentine's Day ðŸ’–<br><br>
                <span class="highlight">Meu bem</span>,<br><br>
                Desde que eu me apaixonei por vocÃª,
                tudo ficou mais leve, mais bonito e mais verdadeiro.<br><br>
                VocÃª Ã© meu lugar seguro,
                meu sorriso favorito,
                minha paz em forma de pessoa.<br><br>
                Se meu coraÃ§Ã£o pulsa diferenteâ€¦
                Ã© porque ele aprendeu o seu ritmo. ðŸŒ¼
            </p>
        </div>
    </div>

    <script>
        // =====================
        // CORAÃ‡ÃƒO
        // =====================
        const heartCanvas = document.getElementById("heartCanvas");
        const hctx = heartCanvas.getContext("2d");

        heartCanvas.width = window.innerWidth;
        heartCanvas.height = window.innerHeight;

        let particles = [];
        let progress = 0;
        let pulse = 1;
        let formed = false;

        function heart(t) {
            return {
                x: 16 * Math.pow(Math.sin(t), 3),
                y: -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t))
            };
        }

        for (let i = 0; i < 2600; i++) {
            let t = Math.random() * Math.PI * 2;
            let pos = heart(t);
            particles.push({
                baseX: pos.x,
                baseY: pos.y,
                x: Math.random() * heartCanvas.width,
                y: Math.random() * heartCanvas.height
            });
        }

        function animateHeart() {
            hctx.clearRect(0, 0, heartCanvas.width, heartCanvas.height);

            if (progress < 1) {
                progress += 0.002;
            } else {
                formed = true;
            }

            pulse = 1 + Math.sin(Date.now() * 0.003) * 0.05;

            particles.forEach(p => {
                let tx = heartCanvas.width / 2 + p.baseX * 18 * pulse;
                let ty = heartCanvas.height / 2 - 40 + p.baseY * 18 * pulse;

                p.x += (tx - p.x) * 0.02 * progress;
                p.y += (ty - p.y) * 0.02 * progress;

                hctx.fillStyle = "rgba(255,80,130,0.9)";
                hctx.beginPath();
                hctx.arc(p.x, p.y, 1.4, 0, Math.PI * 2);
                hctx.fill();
            });

            if (formed) {
                document.getElementById("envelope").classList.add("show");
            }

            requestAnimationFrame(animateHeart);
        }

        animateHeart();


        // =====================
        // PÃ‰TALAS
        // =====================
        const petalCanvas = document.getElementById("petalCanvas");
        const pctx = petalCanvas.getContext("2d");

        petalCanvas.width = window.innerWidth;
        petalCanvas.height = window.innerHeight;

        let petals = [];

        for (let i = 0; i < 35; i++) {
            petals.push({
                x: Math.random() * petalCanvas.width,
                y: Math.random() * petalCanvas.height,
                size: 8 + Math.random() * 8,
                speed: 1 + Math.random() * 2,
                swing: Math.random() * 2,
                angle: Math.random() * Math.PI * 2,
                rotation: Math.random() * 0.02
            });
        }

        function animatePetals() {
            pctx.clearRect(0, 0, petalCanvas.width, petalCanvas.height);

            petals.forEach(p => {
                p.y += p.speed;
                p.x += Math.sin(p.angle) * p.swing;
                p.angle += 0.02;

                if (p.y > petalCanvas.height) {
                    p.y = -10;
                    p.x = Math.random() * petalCanvas.width;
                }

                pctx.save();
                pctx.translate(p.x, p.y);
                pctx.rotate(p.angle);
                pctx.fillStyle = "rgba(255,182,193,0.85)";
                pctx.beginPath();
                pctx.ellipse(0, 0, p.size, p.size * 0.6, 0, 0, Math.PI * 2);
                pctx.fill();
                pctx.restore();
            });

            requestAnimationFrame(animatePetals);
        }

        animatePetals();


        // =====================
        // ABRIR ENVELOPE
        // =====================
        const envelope = document.getElementById("envelope");

        envelope.addEventListener("click", function () {
            if (!envelope.classList.contains("open")) {
                envelope.classList.add("open");
            }
        });
    </script>

</body>

</html>